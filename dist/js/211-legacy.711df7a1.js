"use strict";(self["webpackChunkse_project"]=self["webpackChunkse_project"]||[]).push([[211],{52211:function(t,i,e){e.r(i),e.d(i,{default:function(){return u}});var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("Header",{attrs:{id:"header"}}),e("div",{style:{"min-height":t.mainMinHeight+"px"},attrs:{id:"main"}},[t._m(0),e("el-row",{staticClass:"ctg-title"},[t._v("分类")]),e("el-row",{staticClass:"ctg-list"},[e("el-col",{staticClass:"ctg-list-type",attrs:{span:2}},[t._v("类型")]),e("el-col",{attrs:{span:18}},t._l(t.categoryList.slice(0,12),(function(i){return e("li",{key:i.id,staticClass:"normalCategory",class:{activeCategory:i.isActive},on:{click:function(e){return t.changeFilter(i.id+"&"+t.nowArea)}}},[t._v(" "+t._s(i.des)+" ")])})),0)],1),e("el-row",{staticClass:"ctg-list"},[e("el-col",{staticClass:"ctg-list-type",attrs:{span:2}},[t._v("地区")]),e("el-col",{attrs:{span:18}},t._l(t.placeList,(function(i){return e("li",{key:i.id,staticClass:"normalCategory",class:{activeCategory:i.isActive},on:{click:function(e){return t.changeFilter(t.nowCategory+"&"+i.id)}}},[t._v(" "+t._s(i.des)+" ")])})),0)],1),e("el-divider"),e("el-row",{staticClass:"result-wrap"},t._l(t.filterResult,(function(i){return e("div",{key:i.id,staticClass:"item-box"},[e("el-image",{staticClass:"poster",attrs:{src:i.thumbnail,fit:"cover"},on:{click:function(e){return t.goDetails(i.id)}}}),e("div",{staticClass:"title-wrap"},[e("span",{staticClass:"book-title",on:{click:function(e){return t.goDetails(i.id)}}},[t._v(" "+t._s(i.title)+" ")]),e("span",{staticClass:"rating"},[t._v(t._s(i.rating))])])],1)})),0)],1),e("Footer",{attrs:{id:"footer"}})],1)},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"page-title"},[s("img",{attrs:{src:e(67244),alt:"video icon"}}),s("span",[t._v("影视")])])}],r=(e(74916),e(15306),e(23123),e(41539),e(54747),e(56977),e(13083)),c=e(43445),n={name:"MovieFilterpage",components:{Header:r.Z,Footer:c.Z},mounted:function(){this.getMovie(),this.mainMinHeight=document.documentElement.clientHeight-$("#header").outerHeight(!0)-$("#footer").outerHeight(!0)-6},watch:{$route:{handler:"getMovie"}},methods:{goDetails:function(t){this.$router.push({path:"/movie/detail/".concat(t)})},changeFilter:function(t){this.$router.replace({name:"movie filter",params:{id:t}})},getMovie:function(){var t=this,i="/api/v1/movie/list",e=this.$route.params.id.split("&");this.nowCategory=e[0],this.nowArea=e[1],"99"!=this.nowCategory?(i+="?category="+this.nowCategory,"99"!=this.nowArea&&(i+="&area="+this.nowArea)):"99"!=this.nowArea&&(i+="?area="+this.nowArea),this.renewFilterView(),this.$axios({method:"get",url:i}).then((function(i){t.filterResult=i.data.results,t.setRating(t.filterResult),console.log(t.filterResult)})).catch((function(t){console.log(t)}))},renewFilterView:function(){for(var t=0;t<this.categoryList.length;t++)this.categoryList[t].id==this.nowCategory?this.categoryList[t].isActive=!0:this.categoryList[t].isActive=!1;for(var i=0;i<this.placeList.length;i++)this.placeList[i].id==this.nowArea?this.placeList[i].isActive=!0:this.placeList[i].isActive=!1},setRating:function(t){return t.forEach((function(t,i,e){e[i].rating=e[i].rating.toFixed(1)}))}},data:function(){return{nowCategory:"",nowArea:"",placeList:[{id:"99",des:"全部",isActive:!0},{id:"0",des:"中国",isActive:!1},{id:"1",des:"美国",isActive:!1},{id:"2",des:"英国",isActive:!1},{id:"3",des:"韩国",isActive:!1},{id:"4",des:"日本",isActive:!1},{id:"5",des:"泰国",isActive:!1},{id:"6",des:"马来西亚",isActive:!1}],categoryList:[{id:"99",des:"全部",isActive:!0},{id:"1",des:"爱情",isActive:!1},{id:"2",des:"恐怖",isActive:!1},{id:"3",des:"悬疑",isActive:!1},{id:"4",des:"冒险",isActive:!1},{id:"5",des:"喜剧",isActive:!1},{id:"6",des:"动作",isActive:!1},{id:"7",des:"科幻",isActive:!1},{id:"8",des:"综艺",isActive:!1},{id:"9",des:"动漫",isActive:!1},{id:"10",des:"卡通",isActive:!1},{id:"11",des:"LGBT",isActive:!1},{id:"0",des:"其他",isActive:!1}],filterResult:[],mainMinHeight:""}}},o=n,l=e(1001),d=(0,l.Z)(o,s,a,!1,null,"2663e80f",null),u=d.exports}}]);
//# sourceMappingURL=211-legacy.711df7a1.js.map