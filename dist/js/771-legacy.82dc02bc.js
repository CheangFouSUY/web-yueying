"use strict";(self["webpackChunkse_project"]=self["webpackChunkse_project"]||[]).push([[771],{12771:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group"},[a("Header"),a("div",{attrs:{id:"main"}},[a("div",{staticClass:"create"},[a("el-button",{attrs:{icon:"el-icon-s-flag"},on:{click:t.createGroup}},[t._v("创建小组")])],1),a("div",{staticClass:"leaderboard"},[a("el-row",[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-blue"},[a("div",{staticClass:"title"},[a("p",{attrs:{id:"title"}},[t._v("图书")]),a("div",{attrs:{id:"line"}})]),a("el-table",{staticClass:"table",staticStyle:{width:"90%"},attrs:{data:t.leaderboardDataB.slice(0,10),"header-cell-style":{background:"#FCF8EC",color:"#456268"},"cell-style":{background:"#FCF8EC"},"cell-class-name":t.cellCSS},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{type:"index",label:"排名",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"groupName",label:"小组名字",width:"200"}}),a("el-table-column",{attrs:{prop:"members",label:"成员数量",align:"center"}})],1)],1)]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-blue"},[a("div",{staticClass:"title"},[a("p",{attrs:{id:"title"}},[t._v("影视")]),a("div",{attrs:{id:"line"}})]),a("el-table",{staticClass:"table",staticStyle:{width:"90%"},attrs:{data:t.leaderboardDataM.slice(0,10),"header-cell-style":{background:"#FCF8EC",color:"#456268"},"cell-style":{background:"#FCF8EC"},"cell-class-name":t.cellCSS},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{type:"index",label:"排名",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"groupName",label:"小组名字",width:"200"}}),a("el-table-column",{attrs:{prop:"members",label:"成员数量",align:"center"}})],1)],1)]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-blue"},[a("div",{staticClass:"title"},[a("p",{attrs:{id:"title"}},[t._v("其他")]),a("div",{attrs:{id:"line"}})]),a("el-table",{staticClass:"table",staticStyle:{width:"90%"},attrs:{data:t.leaderboardDataO.slice(0,10),"header-cell-style":{background:"#FCF8EC",color:"#456268"},"cell-style":{background:"#FCF8EC"},"cell-class-name":t.cellCSS},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{type:"index",label:"排名",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"groupName",label:"小组名字",width:"200"}}),a("el-table-column",{attrs:{prop:"members",label:"成员数量",align:"center"}})],1)],1)])],1)],1),a("div",{staticClass:"showgroups"},[t._m(0),t.groupData.length>0?a("el-row",{attrs:{justify:"center",type:"flex"}},[a("div",{staticClass:"container"},t._l(t.columns,(function(e){return a("div",{key:e,staticClass:"col"},t._l(e,(function(e){return a("div",{key:e.id,staticClass:"item-container"},[a("el-avatar",{attrs:{src:e.img},nativeOn:{click:function(a){return t.toGroupInner(e.id)}}}),a("span",{attrs:{id:"groupName"},on:{click:function(a){return t.toGroupInner(e.id)}}},[t._v(t._s(e.groupName))])],1)})),0)})),0)]):a("el-row",[a("div",{staticClass:"noGroups"},[a("span",[t._v("目前无加入任何小组，马上去加入一个小组吧！")])])])],1)]),a("Footer",{attrs:{id:"footer"}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"showgroups_title"},[a("span",[t._v("已加入小组")]),a("div",{attrs:{id:"line2"}})])}],o=(a(47042),a(13083)),i=a(43445),s=a(22282),n={name:"GroupMainpage",components:{Header:o.Z,Footer:i.Z},mounted:function(){var t;(t=s.Z.getters.getUser(s.Z.state()))&&(this.islogin=!0,this.userId=t.user.id),this.getGroup(),this.mainMinHeight=document.documentElement.clientHeight-$("#header").outerHeight(!0)-$("#footer").outerHeight(!0)-6},computed:{columns:function(){for(var t=[],e=this.groupData.length/3,a=3,l=0;l<e;l++)t.push(this.groupData.slice(l*a,l*a+a));return t}},methods:{cellCSS:function(t){t.row;var e=t.rowIndex;return 0===e?"cellCSS1":1===e?"cellCSS2":"cellCSS3"},cellCSS2:function(t){t.row,t.rowIndex;return"cellCSS4"},rowClick:function(t,e,a){console.log(t.id),this.$router.push({path:"/group/".concat(t.id)})},createGroup:function(){this.$router.push("/creategroup")},toGroupInner:function(t){this.$router.push({path:"/group/".concat(t)})},getGroup:function(){var t=this;this.$axios.get("/api/v1/group/list?category=b").then((function(e){var a=e.data.results;t.leaderboardDataB=a})).catch((function(t){console.log(t)})),this.$axios.get("/api/v1/group/list?category=m").then((function(e){var a=e.data.results;t.leaderboardDataM=a})).catch((function(t){console.log(t)})),this.$axios.get("/api/v1/group/list?category=o").then((function(e){var a=e.data.results;t.leaderboardDataO=a})).catch((function(t){console.log(t)}));var e={};localStorage.getItem("token")&&(e={Authorization:"Bearer "+localStorage.getItem("token")}),this.islogin&&this.$axios({method:"get",url:"/api/v1/group/joined",headers:e}).then((function(e){console.log(e);var a=e.data.results;t.groupData=a})).catch((function(t){console.log(t)}))}},data:function(){return{islogin:!1,leaderboardDataB:[],leaderboardDataM:[],leaderboardDataO:[],groupData:[],mainMinHeight:""}}},c=n,u=a(1001),d=(0,u.Z)(c,l,r,!1,null,"3f0476e6",null),p=d.exports}}]);
//# sourceMappingURL=771-legacy.82dc02bc.js.map