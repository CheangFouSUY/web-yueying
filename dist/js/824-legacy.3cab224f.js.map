{"version":3,"file":"js/824-legacy.3cab224f.js","mappings":"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","sources":["webpack://se_project/./src/views/Feedback.vue?d4c9","webpack://se_project/src/views/Feedback.vue","webpack://se_project/./src/views/Feedback.vue?940c","webpack://se_project/./src/views/Feedback.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('Header',{attrs:{\"id\":\"header\"}}),_c('div',{attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"name\"},[_c('span',{attrs:{\"id\":\"namespan\"}},[_vm._v(\"反馈者姓名 :\")]),_c('span',{attrs:{\"id\":\"name\"}},[_vm._v(_vm._s(_vm.form.feedbacker))])]),_c('div',{staticClass:\"content\"},[_c('div',[_c('span',[_vm._v(\"反馈标题 :\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.title),expression:\"form.title\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入反馈标题\"},domProps:{\"value\":(_vm.form.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"title\", $event.target.value)}}})]),_c('div',[_c('span',[_vm._v(\"反馈类型 :\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.category),expression:\"form.category\"}],attrs:{\"id\":\"feedbackType\",\"name\":\"feedbackType\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{staticStyle:{\"display\":\"none\"},attrs:{\"value\":\"0\"}}),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"网页bug\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"网页意见\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"其他\")])])]),_c('div',{staticClass:\"concontent\"},[_c('span',[_vm._v(\"反馈详情 :\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.description),expression:\"form.description\"}],attrs:{\"id\":\"content\",\"name\":\"content\",\"placeholder\":\"请输入反馈详情(不少于15字符)\"},domProps:{\"value\":(_vm.form.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"description\", $event.target.value)}}})]),_c('button',{on:{\"click\":_vm.Submit}},[_vm._v(\"提交\")])])]),_c('Footer',{attrs:{\"id\":\"footer\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"feedback\">\r\n      <Header id=\"header\"></Header>\r\n      <div id=\"main\">\r\n        <div class=\"name\">\r\n          <span id=\"namespan\">反馈者姓名     :</span>\r\n          <span id='name'>{{ form.feedbacker }}</span>\r\n        </div>\r\n        <div class=\"content\">\r\n          <div>\r\n            <span>反馈标题     :</span>\r\n            <input type=\"text\" v-model=\"form.title\" placeholder=\"请输入反馈标题\">\r\n          </div>\r\n          <div>\r\n            <span>反馈类型     :</span>\r\n            <select id=\"feedbackType\" name=\"feedbackType\" v-model=\"form.category\">\r\n                <option value=0 style=\"display: none\"></option>\r\n                <option value=1>网页bug</option>\r\n                <option value=2>网页意见</option>\r\n                <option value=3>其他</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"concontent\">\r\n            <span>反馈详情     :</span>\r\n            <textarea id=\"content\" name=\"content\" v-model=\"form.description\" placeholder=\"请输入反馈详情(不少于15字符)\"></textarea>\r\n          </div>\r\n          <button @click='Submit'>提交</button>\r\n        </div>\r\n    </div>\r\n    <Footer id=\"footer\"></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header.vue'\r\nimport Footer from '@/components/Footer.vue'\r\nimport user from \"@/store/user\";\r\n\r\nexport default {\r\n  components: { \r\n      Header,\r\n      Footer,\r\n  },\r\n      data() {\r\n        return {\r\n            form: {\r\n                feedbacker:'',\r\n                feedbackerId:'',\r\n                category:0,\r\n                title:'',\r\n                description:'',\r\n            },\r\n        }\r\n    },\r\n    created() {\r\n        const userInfo = user.getters.getUser(user.state());\r\n        this.form.feedbackerId = userInfo.user.id;\r\n        this.getName();\r\n    },\r\n    methods: {\r\n        Submit() {\r\n        if(this.form.category === 0 || this.form.title === '' || this.form.description == '') {\r\n            this.$message.warning(\"反馈标题、类型、详情不可为空！\");\r\n            return;\r\n        }\r\n        else if(this.form.description.length < 15) {\r\n            this.$message.warning(\"反馈详情不可少于15字符！\");\r\n            return;\r\n        }\r\n        const formData = new FormData();\r\n        formData.append(\"feedbacker\", this.form.feedbacker);\r\n        formData.append(\"title\", this.form.title);\r\n        formData.append(\"description\", this.form.description);\r\n        formData.append(\"category\", this.form.category);\r\n\r\n        var header = {}\r\n        if (localStorage.getItem('token'))\r\n            header = { 'Authorization': 'Bearer ' + localStorage.getItem('token')}\r\n\r\n        this.$axios({\r\n            method: 'post',  \r\n            url: '/api/v1/feedback/',\r\n            data: formData,\r\n            headers: header,\r\n        })\r\n        .then(res => {\r\n        console.log(res);\r\n        switch (res.status) {\r\n            case 201:\r\n                this.$message({\r\n                showClose: true,\r\n                message: '提交成功，感谢您的反馈！',\r\n                type: 'success'\r\n                })\r\n                this.$router.push(\"/\"); \r\n                break;\r\n            }\r\n        }) \r\n        .catch(err => {\r\n            this.$message.warning(\"反馈失败\")\r\n         })     \r\n        },\r\n        getName() {\r\n            this.$axios({\r\n                method: \"get\",\r\n                url: \"/api/v1/user/\" + this.form.feedbackerId,                \r\n            }).then((res) =>{\r\n                this.form.feedbacker = res.data.username;\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.name{\r\n    margin: 20px auto auto 100px;\r\n    width: 500px;\r\n    height: 55px;\r\n    box-shadow: 0px 4px 10px rgba(0, 9, 236, 0.25);\r\n}\r\n.name span{\r\n    display: inline-block;\r\n    font-size: 24px;\r\n    vertical-align: middle;\r\n    margin-left: 10px;\r\n}\r\n#name{\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n    height: 40px;\r\n    width: 300px;\r\n    margin-top: 6px;\r\n    padding-top: 5px;\r\n    padding-left: 5px;\r\n    border-radius: 10px;\r\n    background-color: #D0E8F2;\r\n    border: none;\r\n    font-size: 22px;\r\n}\r\n#namespan{\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n.content {\r\n    margin: 20px auto 5px 100px;\r\n    padding-top: 12px;\r\n    width: 1300px;\r\n    height: 420px;\r\n    box-shadow: 0px 4px 10px rgba(0, 9, 236, 0.25);\r\n}\r\n.content span{\r\n    display: inline-block;\r\n    font-size: 24px;\r\n    margin-left: 20px;\r\n}\r\n.content input, .content select{\r\n    margin-left: 22px;\r\n    display: inline-block;\r\n    height: 40px;\r\n    width: 1130px;\r\n    margin-bottom: 10px;\r\n    border-radius: 10px;\r\n    border: none;\r\n    background-color: #D0E8F2;\r\n    font-size: 22px;\r\n    padding-left: 5px;\r\n}\r\n.content input:focus, .content textarea:focus{\r\n    outline: none;\r\n}\r\n.concontent{\r\n    margin-top: 10px;\r\n}\r\n.content button{\r\n    display: block;\r\n    float: right;\r\n    margin-right: 20px;\r\n    margin-top: 210px;\r\n    width: 150px;\r\n    height: 45px;\r\n    border: none;\r\n    border-radius: 10px;\r\n    background-color: #456268;\r\n    color: #FCF8EC;\r\n    font-size: 20px;\r\n}\r\n.content button:hover{\r\n    cursor: pointer;\r\n    background-color: rgba(121, 163, 177);\r\n    outline: none;\r\n}\r\n#feedbackType{\r\n    width: 300px;\r\n}\r\n#content{\r\n    display: inline-block;\r\n    height: 210px;\r\n    border: none;\r\n    resize: none;\r\n    position: absolute;\r\n    border-radius: 10px;\r\n    background-color: #D0E8F2;\r\n    margin-left: 22px;\r\n    font-size: 22px;\r\n    width: 1130px;\r\n    padding-left: 5px;\r\n    padding-top: 5px;\r\n}\r\n#main {\r\n  margin: auto;\r\n  padding: 30px 0;\r\n  box-sizing: border-box;\r\n}\r\n#footer {\r\n    position: absolute;\r\n  bottom: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Feedback.vue?vue&type=template&id=e39bb7cc&scoped=true&\"\nimport script from \"./Feedback.vue?vue&type=script&lang=js&\"\nexport * from \"./Feedback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Feedback.vue?vue&type=style&index=0&id=e39bb7cc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e39bb7cc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","form","feedbacker","directives","name","rawName","value","expression","domProps","on","$event","target","composing","$set","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","staticStyle","Submit","staticRenderFns","components","Header","Footer","feedbackerId","category","title","description","methods","formData","header","method","url","data","headers","then","console","log","res","status","showClose","message","type","catch","component"],"sourceRoot":""}