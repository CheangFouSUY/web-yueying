"use strict";(self["webpackChunkse_project"]=self["webpackChunkse_project"]||[]).push([[888],{7888:function(e,s,t){t.r(s),t.d(s,{default:function(){return l}});var a=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",[a("Header",{attrs:{id:"header"}}),a("img",{style:{height:e.bgHeight+"px"},attrs:{id:"bg",src:t(9122)}}),a("div",{attrs:{id:"registerBox"}},[e._m(0),a("div",{staticClass:"Row"},[a("span",[e._v("用户名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],attrs:{type:"text",placeholder:"例 : 黄乐乐"},domProps:{value:e.form.username},on:{input:function(s){s.target.composing||e.$set(e.form,"username",s.target.value)}}})]),a("div",{staticClass:"Row"},[a("span",[e._v("邮箱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"email",placeholder:"example@gmail.com"},domProps:{value:e.form.email},on:{input:function(s){s.target.composing||e.$set(e.form,"email",s.target.value)}}})]),a("div",{staticClass:"Row"},[a("span",[e._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:"密码需包含字母、数字及符号"},domProps:{value:e.form.password},on:{input:function(s){s.target.composing||e.$set(e.form,"password",s.target.value)}}})]),a("div",{staticClass:"Row"},[a("span",[e._v("重复密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password2,expression:"form.password2"}],attrs:{type:"password",placeholder:"请重新输入密码"},domProps:{value:e.form.password2},on:{input:function(s){s.target.composing||e.$set(e.form,"password2",s.target.value)}}})]),a("div",{staticClass:"Row"},[a("span",[e._v("密保问题")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.securityQ,expression:"form.securityQ"}],attrs:{id:"sQuestion",name:"sQuestion"},on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var s="_value"in e?e._value:e.value;return s}));e.$set(e.form,"securityQ",s.target.multiple?t:t[0])}}},[a("option",{staticStyle:{display:"none"},attrs:{value:"0"}}),a("option",{attrs:{value:"1"}},[e._v("您最喜欢的颜色是？")]),a("option",{attrs:{value:"2"}},[e._v("您最讨厌的食物？")]),a("option",{attrs:{value:"3"}},[e._v("您的最要好闺蜜/兄弟是？")]),a("option",{attrs:{value:"4"}},[e._v("您的爱好是？")]),a("option",{attrs:{value:"5"}},[e._v("您的初恋是？")])])]),a("div",{staticClass:"Row"},[a("span",[e._v("密保答案")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.securityQans,expression:"form.securityQans"}],attrs:{type:"text",placeholder:"请输入密保答案"},domProps:{value:e.form.securityQans},on:{input:function(s){s.target.composing||e.$set(e.form,"securityQans",s.target.value)}}})]),a("button",{attrs:{id:"goLogin"},on:{click:e.Login}},[e._v("已有帐号，立即登录")]),a("div",[a("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"submit"},on:{click:e.Submit}},[e._v(" 注册 ")])])])],1)},r=[function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{attrs:{id:"logo"}},[a("img",{attrs:{src:t(6949)}})])}],o=t(3083),i={name:"Register",components:{Header:o.Z},data(){return{form:{username:"",email:"",password:"",password2:"",securityQ:0,securityQans:""},fullscreenLoading:!1,bgHeight:""}},mounted(){this.bgHeight=document.documentElement.clientHeight-$("#header").outerHeight(!0)-1},methods:{Login(){this.$router.push("/login")},Submit(){if(""===this.form.username||""===this.form.email||""===this.form.password||""===this.form.password2||0===this.form.securityQ||""===this.form.securityQans)return void this.$message.warning("请填写所有空格（包括密保问题）");if(this.form.username.length>10)return void this.$message.warning("名字字符数不超过10");this.fullscreenLoading=!0;const e=new FormData;e.append("email",this.form.email),e.append("username",this.form.username),e.append("password",this.form.password),e.append("password2",this.form.password2),e.append("securityQuestion",this.form.securityQ),e.append("securityAnswer",this.form.securityQans),this.$axios({method:"post",url:"/api/v1/auth/register/",data:e}).then((e=>{switch(console.log(e),e.status){case 201:this.$router.push("/registersuccess"),this.fullscreenLoading=!1,this.$store.dispatch("saveUserInfo",{user:{confirmed:!1}});break}})).catch((e=>{switch(console.log(e.response.data.code),e.response.data.code){case 1001:this.$message.warning("邮箱已被使用");break;case 1002:this.$message.warning("用户名已被使用");break;case 1003:this.$message.warning("密码与重复密码不匹配");break;case 1004:this.$message.warning("密码需包含字母、数字及符号且字符数>=8");break;default:this.$message.warning("填写信息错误")}}))}}},n=i,m=t(1001),u=(0,m.Z)(n,a,r,!1,null,"6d30bd5e",null),l=u.exports},9122:function(e,s,t){e.exports=t.p+"img/background.cc6328a5.jpg"}}]);
//# sourceMappingURL=888.38b23e98.js.map