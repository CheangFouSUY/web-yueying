{"version":3,"file":"js/901.6ea10e06.js","mappings":"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","sources":["webpack://se_project/./src/views/Profile.vue?32f1","webpack://se_project/src/views/Profile.vue","webpack://se_project/./src/views/Profile.vue?ac84","webpack://se_project/./src/views/Profile.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Profile\"},[_c('Header',{attrs:{\"id\":\"header\",\"initialUsername\":_vm.form.name}}),_c('div',{style:({ 'min-height': _vm.mainMinHeight + 'px' }),attrs:{\"id\":\"main\"}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"profile-box\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"profile-content\"},[_c('div',{staticClass:\"profilePic\"},[(_vm.isOwnProfile)?_c('el-upload',{attrs:{\"id\":\"avatar-uploader\",\"action\":\"\",\"http-request\":_vm.uploadAvatar,\"show-file-list\":false,\"accept\":\"image/jpeg,image/gif,image/png,image/jpg\"}},[(_vm.form.imageUrl)?_c('el-avatar',{attrs:{\"shape\":\"square\",\"size\":256,\"src\":_vm.form.imageUrl}}):_c('el-avatar',{attrs:{\"shape\":\"square\",\"size\":256,\"icon\":\"el-icon-user-solid\"}}),_c('div',{attrs:{\"id\":\"change-pic\"}},[_vm._v(\"更换头像\")])],1):_c('div',[(_vm.form.imageUrl)?_c('el-avatar',{attrs:{\"shape\":\"square\",\"size\":256,\"src\":_vm.form.imageUrl}}):_c('el-avatar',{attrs:{\"shape\":\"square\",\"size\":256,\"icon\":\"el-icon-user-solid\"}})],1)],1)])]),_c('el-col',{attrs:{\"span\":15}},[_c('div',{staticClass:\"profile-content\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"profile-info\"},[_c('span',{staticClass:\"profile-text1\"},[_vm._v(\"名字 :\")]),(!_vm.form.isEdit)?_c('span',{staticClass:\"profile-text2\"},[_vm._v(\" \"+_vm._s(_vm.form.name))]):_c('el-input',{attrs:{\"placeholder\":\"请输入新昵称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"profile-info\"},[_c('span',{staticClass:\"profile-text1\"},[_vm._v(\"性别 :\")]),_c('span',{staticClass:\"profile-text2\"},[_vm._v(\" \"+_vm._s(_vm.form.sexWord))])])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"profile-info\"},[_c('span',{staticClass:\"profile-text1\"},[_vm._v(\"生日 :\")]),_c('span',{staticClass:\"profile-text2\"},[_vm._v(\" \"+_vm._s(_vm.form.dob))])])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"profile-info\"},[_c('span',{staticClass:\"profile-text1\"},[_vm._v(\"邮箱 :\")]),_c('span',{staticClass:\"profile-text2\"},[_vm._v(\" \"+_vm._s(_vm.form.email))])])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"profile-info\"},[_c('span',{staticClass:\"profile-text1\"},[_vm._v(\"自我介绍 :\")]),_c('span',{staticClass:\"profile-text2\"},[_vm._v(\" \"+_vm._s(_vm.form.about))])])])],1)],1)]),_c('el-dialog',{attrs:{\"title\":\"编辑个人信息\",\"visible\":_vm.changeVisible,\"close-on-click-modal\":false,\"show-close\":false},on:{\"update:visible\":function($event){_vm.changeVisible=$event}}},[_c('el-form',{attrs:{\"label-position\":\"top\",\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"名字\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.form.nameTemp),callback:function ($$v) {_vm.$set(_vm.form, \"nameTemp\", $$v)},expression:\"form.nameTemp\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-radio-group',{model:{value:(_vm.form.sexTemp),callback:function ($$v) {_vm.$set(_vm.form, \"sexTemp\", $$v)},expression:\"form.sexTemp\"}},[_c('el-radio',{attrs:{\"label\":\"M\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"F\"}},[_vm._v(\"女\")]),_c('el-radio',{attrs:{\"label\":\"O\"}},[_vm._v(\"其他\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"生日\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择你的生日日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form.dobTemp),callback:function ($$v) {_vm.$set(_vm.form, \"dobTemp\", $$v)},expression:\"form.dobTemp\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"自我介绍\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"autocomplete\":\"off\",\"show-word-limit\":\"\",\"resize\":\"none\"},model:{value:(_vm.form.aboutTemp),callback:function ($$v) {_vm.$set(_vm.form, \"aboutTemp\", $$v)},expression:\"form.aboutTemp\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelChanges}},[_vm._v(\"取消\")]),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateProfileInfo}},[_vm._v(\"完成编辑\")])],1)],1),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticClass:\"profile-content\"},[(_vm.isOwnProfile)?_c('el-button',{staticClass:\"Edit\",on:{\"click\":function($event){_vm.changeVisible = true}}},[_vm._v(\"编辑资料\")]):_vm._e()],1)])],1)],1)])],1),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":20}},_vm._l((_vm.feeds),function(item){return _c('FeedBox',{key:item.id,attrs:{\"initialFeedId\":item.id,\"initialIsGroup\":false,\"initialIsPin\":false,\"initialIsFeatured\":false,\"initialIsAdmin\":false}})}),1)],1)],1),_c('Footer',{attrs:{\"id\":\"footer\"}}),_c('el-backtop',{attrs:{\"target\":\".Profile\"}},[_c('i',{staticClass:\"el-icon-arrow-up\",staticStyle:{\"color\":\"#456268\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Profile\">\r\n    <Header id=\"header\" :initialUsername=\"form.name\"></Header>\r\n    <div id=\"main\" :style=\"{ 'min-height': mainMinHeight + 'px' }\">\r\n      <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"20\"\r\n        ><div class=\"profile-box\">\r\n          <el-row>\r\n            <el-col :span=\"6\"\r\n              ><div class=\"profile-content\">\r\n                <div class=\"profilePic\">\r\n                  <el-upload\r\n                    v-if=\"isOwnProfile\"\r\n                    id=\"avatar-uploader\"\r\n                    action=\"\"\r\n                    :http-request=\"uploadAvatar\"\r\n                    :show-file-list=\"false\"\r\n                    accept=\"image/jpeg,image/gif,image/png,image/jpg\"\r\n                  >\r\n                    <el-avatar\r\n                      v-if=\"form.imageUrl\"\r\n                      shape=\"square\"\r\n                      :size=\"256\"\r\n                      :src=\"form.imageUrl\"\r\n                    >\r\n                    </el-avatar>\r\n                    <el-avatar\r\n                      v-else\r\n                      shape=\"square\"\r\n                      :size=\"256\"\r\n                      icon=\"el-icon-user-solid\"\r\n                    >\r\n                    </el-avatar>\r\n                    <div id=\"change-pic\">更换头像</div>\r\n                  </el-upload>\r\n                  <div v-else>\r\n                    <el-avatar\r\n                      v-if=\"form.imageUrl\"\r\n                      shape=\"square\"\r\n                      :size=\"256\"\r\n                      :src=\"form.imageUrl\"\r\n                    >\r\n                    </el-avatar>\r\n                    <el-avatar\r\n                      v-else\r\n                      shape=\"square\"\r\n                      :size=\"256\"\r\n                      icon=\"el-icon-user-solid\"\r\n                    >\r\n                    </el-avatar>\r\n                  </div>\r\n                </div></div\r\n            ></el-col>\r\n            <el-col :span=\"15\"\r\n              ><div class=\"profile-content\">\r\n                <el-row>\r\n                  <el-col :span=\"20\"\r\n                    ><div class=\"profile-info\">\r\n                      <span class=\"profile-text1\">名字&nbsp;:</span>\r\n                      <span v-if=\"!form.isEdit\" class=\"profile-text2\"\r\n                        >&nbsp;{{ form.name }}</span\r\n                      >\r\n                      <el-input\r\n                        v-else\r\n                        placeholder=\"请输入新昵称\"\r\n                        v-model=\"form.name\"\r\n                      ></el-input>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                  <el-col :span=\"20\"\r\n                    ><div class=\"profile-info\">\r\n                      <span class=\"profile-text1\">性别&nbsp;:</span>\r\n                      <span class=\"profile-text2\">&nbsp;{{ form.sexWord }}</span>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                  <el-col :span=\"20\"\r\n                    ><div class=\"profile-info\">\r\n                      <span class=\"profile-text1\">生日&nbsp;:</span>\r\n                      <span class=\"profile-text2\">&nbsp;{{ form.dob }}</span>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                  <el-col :span=\"20\"\r\n                    ><div class=\"profile-info\">\r\n                      <span class=\"profile-text1\">邮箱&nbsp;:</span>\r\n                      <span class=\"profile-text2\">&nbsp;{{ form.email }}</span>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                  <el-col :span=\"20\"\r\n                    ><div class=\"profile-info\">\r\n                      <span class=\"profile-text1\">自我介绍&nbsp;:</span>\r\n                      <span class=\"profile-text2\">&nbsp;{{ form.about }}</span>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div></el-col\r\n            >\r\n            <el-dialog\r\n              title=\"编辑个人信息\"\r\n              :visible.sync=\"changeVisible\"\r\n              :close-on-click-modal=\"false\"\r\n              :show-close=\"false\"\r\n            >\r\n              <el-form label-position=\"top\" :model=\"form\">\r\n                <el-form-item label=\"名字\" :label-width=\"formLabelWidth\">\r\n                  <el-input\r\n                    v-model=\"form.nameTemp\"\r\n                    autocomplete=\"off\"\r\n                    maxlength=\"10\"\r\n                    show-word-limit\r\n                  ></el-input>\r\n                </el-form-item>\r\n                  <el-form-item label=\"性别\">\r\n                    <el-radio-group v-model=\"form.sexTemp\">\r\n                      <el-radio label=\"M\">男</el-radio>\r\n                      <el-radio label=\"F\">女</el-radio>\r\n                      <el-radio label=\"O\">其他</el-radio>\r\n                    </el-radio-group>\r\n                  </el-form-item>\r\n                <el-form-item label=\"生日\">\r\n                  <el-col :span=\"11\">\r\n                    <el-date-picker type=\"date\" placeholder=\"选择你的生日日期\" v-model=\"form.dobTemp\" style=\"width: 100%;\" value-format=\"yyyy-MM-dd\"></el-date-picker>\r\n                  </el-col>\r\n                </el-form-item>\r\n                <el-form-item label=\"自我介绍\" :label-width=\"formLabelWidth\">\r\n                  <el-input\r\n                    type=\"textarea\"\r\n                    autosize\r\n                    v-model=\"form.aboutTemp\"\r\n                    autocomplete=\"off\"\r\n                    show-word-limit\r\n                    resize=\"none\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"cancelChanges\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"updateProfileInfo\" v-loading.fullscreen.lock=\"fullscreenLoading\"\r\n                  >完成编辑</el-button\r\n                >\r\n              </div>\r\n            </el-dialog>\r\n            <el-col :span=\"3\"\r\n              ><div class=\"profile-content\">\r\n                <el-button\r\n                  v-if=\"isOwnProfile\"\r\n                  class=\"Edit\"\r\n                  @click=\"changeVisible = true\"\r\n                  >编辑资料</el-button\r\n                >\r\n                <!-- <el-button class=\"EditFinish\" type=\"danger\" v-else @click=\"form.isEdit = !form.isEdit\">完成编辑</el-button> -->\r\n              </div></el-col\r\n            >\r\n          </el-row>\r\n        </div></el-col\r\n      >\r\n    </el-row>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :span=\"20\">\r\n        <FeedBox\r\n          v-for=\"item in feeds\"\r\n          :key=\"item.id\"\r\n          :initialFeedId=\"item.id\"\r\n              :initialIsGroup=\"false\"\r\n          :initialIsPin=\"false\"\r\n          :initialIsFeatured=\"false\"\r\n          :initialIsAdmin=\"false\"\r\n        ></FeedBox>\r\n      </el-col>\r\n    </el-row>\r\n    </div>\r\n    <Footer id=\"footer\"></Footer>\r\n    <el-backtop target=\".Profile\">\r\n      <i class=\"el-icon-arrow-up\" style=\"color: #456268\"></i>\r\n    </el-backtop>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/Header.vue\";\r\nimport Footer from \"@/components/Footer.vue\";\r\nimport FeedBox from \"@/components/FeedBox.vue\";\r\nimport user from \"@/store/user\";\r\n\r\nexport default {\r\n  name: \"Profile\",\r\n  components: {\r\n    Header,\r\n    Footer,\r\n    FeedBox,\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: \"profileReload\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      userId: \"123456\",\r\n      isOwnProfile: false,\r\n      fullscreenLoading: false,\r\n      form: {\r\n        imageUrl: \"\",\r\n        isEdit: false,\r\n        id: \"\",\r\n        name: \"\",\r\n        nameTemp: \"\",\r\n        sexWord: \"\",\r\n        sex: \"\",\r\n        sexTemp: \"\",\r\n        dob: \"\",\r\n        dobTemp: \"\",\r\n        email: \"\",\r\n        about: \"\",\r\n        aboutTemp: \"\",\r\n      },\r\n      changeVisible: false,\r\n      formLabelWidth: \"120px\",\r\n      feeds: [],\r\n      mainMinHeight: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    var userInfo;\r\n    if ((userInfo = user.getters.getUser(user.state()))) {\r\n      this.userId = userInfo.user.id;\r\n      if (this.userId == this.$route.params.id) this.isOwnProfile = true;\r\n    }\r\n    this.getProfile();\r\n    this.getFeed();\r\n  },\r\n  mounted(){\r\n    this.mainMinHeight =\r\n      document.documentElement.clientHeight -\r\n      $(\"#header\").outerHeight(true) -\r\n      $(\"#footer\").outerHeight(true) -\r\n      6;\r\n  },\r\n  methods: {\r\n    profileReload() {\r\n      location.reload();\r\n    },\r\n    async uploadAvatar(file) {\r\n      const formData = new FormData();\r\n      formData.append(\"email\", this.form.email);\r\n      formData.append(\"username\", this.form.name);\r\n      formData.append(\"profile\", file.file);\r\n      formData.append(\"userId\", this.form.id);\r\n      console.log(file.file);\r\n\r\n      var header = {};\r\n      if (localStorage.getItem(\"token\"))\r\n        header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n      await this.$axios({\r\n        method: \"put\",\r\n        url: \"/api/v1/user/\" + this.$route.params.id,\r\n        data: formData,\r\n        headers: header,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.form.imageUrl = res.data.profile;\r\n          location.reload();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    async getFeed() {\r\n      var header = {};\r\n      if (localStorage.getItem(\"token\"))\r\n        header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n      await this.$axios({\r\n        method: \"get\",\r\n        url: \"/api/v1/feed/list?createdBy=\" + this.$route.params.id,\r\n        headers: header,\r\n      })\r\n        .then((res) => {\r\n          this.feeds = res.data.results;\r\n          console.log(this.feeds);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    async getProfile() {\r\n      console.log(this.$route.params.id);\r\n      await this.$axios({\r\n        method: \"get\",\r\n        url: \"/api/v1/user/\" + this.$route.params.id,\r\n      })\r\n        .then((res) => {\r\n          var r = res.data;\r\n          console.log(r);\r\n          this.form.id = r.id;\r\n          this.form.name = r.username;\r\n          this.form.nameTemp = r.username;\r\n          this.form.sex = r.gender;\r\n          this.form.sexTemp = r.gender;\r\n          console.log(this.form.sexTemp);\r\n          this.form.dob = r.dob;\r\n          this.form.dobTemp = r.dob;\r\n          this.form.email = r.email;\r\n          this.form.about = r.about;\r\n          this.form.aboutTemp = r.about;\r\n          if (r.profile) this.form.imageUrl = r.profile;\r\n          if (this.form.sex == \"M\") {\r\n            this.form.sexWord = \"男\";\r\n          }\r\n          if (this.form.sex == \"F\") {\r\n            this.form.sexWord = \"女\";\r\n          }\r\n          if (this.form.sex == \"O\") {\r\n            this.form.sexWord = \"其他\";\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$message.warning(err);\r\n        });\r\n    },\r\n    cancelChanges() {\r\n      this.changeVisible = false;\r\n      this.form.nameTemp = this.form.name;\r\n      this.form.aboutTemp = this.form.about;\r\n      this.form.sexTemp = this.form.sex;\r\n      this.form.dobTemp = this.form.dob;\r\n    },\r\n    async updateProfileInfo() {\r\n      this.fullscreenLoading = true;\r\n      const formData = new FormData();\r\n      formData.append(\"email\", this.form.email);\r\n      formData.append(\"username\", this.form.nameTemp);\r\n      formData.append(\"userId\", this.form.id);\r\n      formData.append(\"about\", this.form.aboutTemp);\r\n      formData.append(\"gender\", this.form.sexTemp);\r\n      formData.append(\"dob\", this.form.dobTemp);\r\n\r\n      var header = {};\r\n      if (localStorage.getItem(\"token\"))\r\n        header = { Authorization: \"Bearer \" + localStorage.getItem(\"token\") };\r\n\r\n      await this.$axios({\r\n        method: \"put\",\r\n        url: \"/api/v1/user/\" + this.$route.params.id,\r\n        data: formData,\r\n        headers: header,\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.form.name = this.form.nameTemp;\r\n          this.form.about = this.form.aboutTemp;\r\n          this.form.dob = this.form.dobTemp;\r\n          this.form.sex = this.form.sexTemp;\r\n          if (this.form.sex == \"M\") {\r\n            this.form.sexWord = \"男\";\r\n          }\r\n          if (this.form.sex == \"F\") {\r\n            this.form.sexWord = \"女\";\r\n          }\r\n          if (this.form.sex == \"O\") {\r\n            this.form.sexWord = \"其他\";\r\n          }\r\n          this.changeVisible = false;\r\n          this.fullscreenLoading = false;\r\n          setTimeout(function () {\r\n            location.reload(true);\r\n          }, 500);\r\n          // this.$store.commit('saveUserInfo', {\r\n          // user: {\r\n          //     'username': res.data.username,\r\n          //     \"confirmed\": true,\r\n          //     'id': res.data.id,\r\n          //     \"profilePic\": res.data.profile,\r\n          //  }\r\n          // });\r\n          this.$message.success(\"恭喜！修改成功\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.$message.warning(\"抱歉！用户名已被使用\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.profile-box {\r\n  margin-top: 20px;\r\n  padding-top: 35px;\r\n  height: 300px;\r\n  /* width: 1266px; */\r\n  background-color: #fcf8ec;\r\n  box-shadow: 0px 4px 20px 3px rgba(0, 0, 0, 0.25);\r\n  margin-bottom: 40px;\r\n}\r\n.profile-content {\r\n  height: 300px;\r\n}\r\n.profile-content .el-row {\r\n  margin-bottom: 10px;\r\n}\r\n.profilePic:hover #change-pic {\r\n  display: block;\r\n}\r\n#change-pic:hover {\r\n  cursor: pointer;\r\n}\r\n#change-pic {\r\n  display: none;\r\n  height: 40px;\r\n  width: 256px;\r\n  position: absolute;\r\n  top: 216px;\r\n  z-index: 99;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  color: #ffffff;\r\n  font-size: 20px;\r\n  text-align: center;\r\n  line-height: 40px;\r\n}\r\n.profilePic {\r\n  margin: auto;\r\n  width: 256px;\r\n  height: 256px;\r\n}\r\n/* .profilePic .el-image {\r\n  display: block;\r\n  width: 256px;\r\n  height: 256px;\r\n} */\r\n.profile-info {\r\n  font-size: 20px;\r\n  margin-top: 15px;\r\n}\r\n.profile-info .el-input {\r\n  display: inline-block;\r\n  width: 200px;\r\n  margin-left: 10px;\r\n  font-size: 19px;\r\n  position: absolute;\r\n  top: 10px;\r\n}\r\n.profile-text1 {\r\n  color: #79a3b1;\r\n}\r\n.profile-text2 {\r\n  color: #456268;\r\n}\r\n.Edit {\r\n  background-color: #456268;\r\n  color: #fcf8ec;\r\n}\r\n.bg-blue {\r\n  background: blue;\r\n}\r\n.bg-red {\r\n  background: red;\r\n}\r\n.bg-yellow {\r\n  background: yellow;\r\n}\r\n.feedbox {\r\n  /* width: 1266px; */\r\n}\r\n.Profile {\r\n  height: 100vh;\r\n  overflow-x: hidden;\r\n}\r\n#main {\r\n  width: 1400px;\r\n  margin: auto;\r\n  padding: 30px 0;\r\n  box-sizing: border-box;\r\n}\r\n#footer {\r\n  bottom: 0;\r\n}\r\n</style>\r\n\r\n<style>\r\n/* .avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n} */\r\n/* .avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 256px;\r\n  height: 256px;\r\n  line-height: 256px;\r\n  text-align: center;\r\n  background-color: white;\r\n} */\r\n/* .avatar {\r\n  width: 256px;\r\n  height: 256px;\r\n  display: block;\r\n} */\r\n/* .avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n} */\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=fdb73b6e&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=fdb73b6e&scoped=true&lang=css&\"\nimport style1 from \"./Profile.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdb73b6e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","form","name","style","mainMinHeight","uploadAvatar","imageUrl","_v","isEdit","model","value","callback","$$v","$set","expression","_s","sexWord","dob","email","about","changeVisible","on","$event","formLabelWidth","staticStyle","slot","cancelChanges","directives","rawName","modifiers","updateProfileInfo","_e","_l","item","key","id","staticRenderFns","components","Header","Footer","FeedBox","watch","$route","handler","data","userId","isOwnProfile","fullscreenLoading","nameTemp","sex","sexTemp","dobTemp","aboutTemp","feeds","created","userInfo","user","params","getProfile","getFeed","mounted","document","$","methods","profileReload","location","reload","async","file","formData","FormData","append","console","log","header","localStorage","getItem","Authorization","$axios","method","url","headers","then","res","catch","err","setTimeout","component"],"sourceRoot":""}